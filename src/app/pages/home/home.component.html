<br>
<div class="flex justify-end items-center mb-4">
  <button (click)="logout()"
          class="text-white bg-red-500 hover:bg-red-600 px-10 py-3 rounded-full transition flex items-center gap-2 shadow">
    <i class="pi pi-sign-out text-white"></i> <!-- Usa PrimeIcons -->
  </button>
</div>

<br>
<app-tweet-form></app-tweet-form>
<div class="min-h-screen py-5 px-3 bg-gray-100">
  <h2 class="text-3xl font-bold text-center mb-6 text-blue-800">
    Â¡HOLA {{ username }}! ðŸŽ¬
  </h2>

  <div *ngFor="let tweet of tweets" class="glass-card mb-5 max-w-screen-sm mx-auto">
    <!-- Imagen si existe -->
    <div *ngIf="tweet.imageUrl" class="bg-cover bg-center border-round-top-xl relative"
         [ngStyle]="{ 'background-image': 'url(' + tweet.imageUrl + ')' }"
         style="height: 800px;">
      <div class="absolute ml-3 mt-2 px-3 py-1 text-white text-sm font-bold bg-black-alpha-30 border-round-sm"
           style="backdrop-filter: blur(10px);">
        {{ tweet.postedBy.username }}
      </div>
    </div>

    <!-- Contenido del tweet -->
<div class="pt-3 text-white">
  <p class="text-3xl mb-3 font-medium">{{ tweet.tweet }}</p>
  <br>
      <!-- Reacciones (solo si existen datos) -->
      <ng-container *ngIf="reactionCounts[tweet.id]">
        <app-reaction-buttons
          [tweetId]="tweet.id"
          [counts]="reactionCounts[tweet.id]">
        </app-reaction-buttons>
      </ng-container>

      <!-- Formulario de comentario -->
      <app-comment-form
        [tweetId]="tweet.id"
        (commentSubmitted)="addComment($event)">
      </app-comment-form>

      <!-- Lista de comentarios -->
      <app-comment-list [comments]="tweet.comments || []"></app-comment-list>
    </div>
  </div>
</div>